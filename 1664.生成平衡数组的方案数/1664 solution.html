<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 如果一个数组满足奇数下标元素的和与偶数下标元素的和相等，该数组就是一个 平衡数组 。

    // 方法一：动态规划
    // 时间复杂度：O(n)
    // 空间复杂度：O(1)
    var waysToMakeFair = function (nums) {
      let odd1 = 0,
        even1 = 0;
      let odd2 = 0,
        even2 = 0;
      for (let i = 0; i < nums.length; ++i) {
        if ((i & 1) !== 0) {
          odd2 += nums[i];
        } else {
          even2 += nums[i];
        }
      }
      let res = 0;
      for (let i = 0; i < nums.length; ++i) {
        if ((i & 1) != 0) {
          odd2 -= nums[i];
        } else {
          even2 -= nums[i];
        }
        if (odd1 + even2 === odd2 + even1) {
          ++res;
        }
        if ((i & 1) !== 0) {
          odd1 += nums[i];
        } else {
          even1 += nums[i];
        }
      }
      return res;
    };

    // test
    let nums = [2, 1, 6, 4];
    console.log(waysToMakeFair(nums))
  </script>
</body>

</html>