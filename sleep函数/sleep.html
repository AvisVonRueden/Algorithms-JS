<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 方法1：while循环 + break
    // milliseconds 单位 毫秒 ；
    const sleep1 = function (milliseconds) {
      var start = new Date().getTime();
      while (true) {
        if (new Date().getTime() - start > milliseconds) {
          break;
        }
      }
    }

    // 方法2：promise + setTimeout
    const sleep2 = function (milliseconds) {
      return new Promise(resolve => {
        setTimeout(resolve, milliseconds);
      });
    };

    // test1  阻塞页面加载
    // function test1() {
    //   sleep1(5*1000);
    //   console.log("hi")
    // }
    // test1();

    async function test2() {
      await sleep2(5*1000);
      console.log("hi")
    }
    test2();
  </script>
</body>

</html>